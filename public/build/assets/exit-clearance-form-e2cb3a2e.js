import{f as D,b as v,r as S,e as E,j as e}from"./app-3a601071.js";import t from"./upload-signature-section-cfa44855.js";import{g as I}from"./user-service-08a61e5c.js";import{g as R}from"./app-thunk-a114928e.js";import{S as A}from"./SendOutlined-e9e15fcf.js";import{m as C}from"./index-4980c4d3.js";import{L as H}from"./render-4aa1fb9e.js";import"./index-82718720.js";import"./presets-18e0df0e.js";import"./useId-604c9ce3.js";import"./index-53109add.js";import"./useZIndex-45f0b143.js";import"./useSize-deb2151f.js";import"./AntdIcon-917c0197.js";import"./Compact-3e649cff.js";import"./ContextIsolator-561def72.js";import"./asyncToGenerator-fc29a10e.js";import"./index-36158f14.js";import"./CheckCircleFilled-bc02518b.js";import"./CloseCircleFilled-50f0ca8f.js";import"./InfoCircleFilled-f7d08a31.js";import"./button-c6d466a5.js";import"./CloseOutlined-c12b3065.js";import"./index-d34d882e.js";import"./KeyCode-878bdba7.js";import"./pickAttrs-4ae2bff7.js";import"./fade-e5115b2b.js";import"./useClosable-54bcf618.js";import"./useLocale-3e347b73.js";import"./PurePanel-6ebeb61a.js";import"./SignatureOutlined-134facca.js";function L(r){return async function(s,a){const d=await I();s(D.actions.setUser(d))}}function ue(){var n,c,o,x,p,u,m,b,h,f,j,N,g;const{employee:r}=v(l=>l.employees),{user:s}=v(l=>l.app),[a,d]=S.useState();S.useEffect(()=>{E.dispatch(R()),console.log("waaaa",s),E.dispatch(L())},[s.id]);const _=(s==null?void 0:s.department)==="Human Resource",F=async()=>{var l,w,y;d(!0);try{const i={employee_name:`${((l=r==null?void 0:r.applicant)==null?void 0:l.fname)||""} ${((w=r==null?void 0:r.applicant)==null?void 0:w.mname)||""} ${((y=r==null?void 0:r.applicant)==null?void 0:y.lname)||""}`,departments:["Immediate Supervisor","Employee Dept. Head","HR/Admin","IT (Biometrics, Laptop)"],clearance_date:new Date().toISOString().split("T")[0]},$=await axios.post("/api/send-clearance-email",i);C.success("Exit Clearance sent successfully"),console.log($.data.message),d(!1)}catch(i){console.error("Error sending email:",i),C.error("Failed to send Exit Clearance"),d(!1)}};return console.log("usersss",s),e.jsx("div",{className:"h-screen overflow-hidden ",children:e.jsx("div",{className:"bg-cover bg-[url('/images/SCemp.jpg')] transition-colors duration-300 h-full overflow-y-scroll",children:e.jsx("div",{className:"container mx-auto flex justify-center",children:e.jsxs("div",{className:"bg-white shadow-2xl shadow-black rounded-lg p-6 mt-12 w-full",children:[e.jsx("div",{className:"flex items-center justify-center p-3",children:e.jsx("img",{className:"w-60",src:"/images/newlogo.png",alt:"logo"})}),e.jsx("div",{className:"flex text-2xl items-center justify-center",children:e.jsx("h1",{children:e.jsx("b",{children:"EXIT CLEARANCE"})})}),e.jsxs("form",{className:"border rounded-lg p-3.5",children:[e.jsxs("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 p-4 mb-3",children:[e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Full Name:"})}),e.jsx("input",{type:"text",value:`${((n=r==null?void 0:r.applicant)==null?void 0:n.fname)||""} ${((c=r==null?void 0:r.applicant)==null?void 0:c.mname)||""} ${((o=r==null?void 0:r.applicant)==null?void 0:o.lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Account / Department:"})}),e.jsx("input",{type:"text",value:r!=null&&r.account?r==null?void 0:r.account:(x=r==null?void 0:r.dept)==null?void 0:x.dept,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Hired:"})}),e.jsx("input",{type:"date",value:(r==null?void 0:r.hired)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:" w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Immediate Supervisor:"})}),e.jsx("input",{type:"text",value:`${((p=r==null?void 0:r.user)==null?void 0:p.employee_fname)||""} ${((u=r==null?void 0:r.user)==null?void 0:u.employee_mname)||""} ${((m=r==null?void 0:r.user)==null?void 0:m.employee_lname)||""}`,className:"border p-2 rounded w-full "})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Employment Status:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.status)||"",className:"border p-2 rounded w-full "})]})]})}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex flex-col gap-4 mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"ID Number:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.app_id)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Position Title:"})}),e.jsx("input",{type:"text",value:(r==null?void 0:r.position)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Date Separated:"})}),e.jsx("input",{type:"date",value:((b=r==null?void 0:r.attrition)==null?void 0:b.separation)||"",className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Department Manager:"})}),e.jsx("input",{type:"text",value:`${((f=(h=r==null?void 0:r.dept)==null?void 0:h.user)==null?void 0:f.employee_fname)||""} ${((N=(j=r==null?void 0:r.dept)==null?void 0:j.user)==null?void 0:N.employee_lname)||""}`,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Reason for Separation::"})}),e.jsx("input",{type:"text",value:((g=r==null?void 0:r.attrition)==null?void 0:g.reas)||"",className:"border p-2 rounded w-full"})]})]})})]}),e.jsx("p",{className:"mt-5 mb-1",children:"We are here to certify that the above employee is cleared with any accountability or financial obligation to the following:"}),e.jsx("div",{className:"flex flex-1 gap-4 border-4 border-gray-400 mb-3",children:e.jsxs("table",{class:"table table-bordered text-center w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300 w-full",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border border-gray-300 py-2",children:"Department"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Signature"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Date Signed"}),e.jsx("th",{className:"border border-gray-300 py-2",children:"Payables"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Immediate Supervisor"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(t,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"Employee Dept. Head"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-24 h-8"})}),e.jsx(t,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"HR/Admin"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(t,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]}),e.jsxs("tr",{class:"border border-gray-300 py-2",children:[e.jsx("td",{className:"border border-gray-300 py-2",children:"IT (Biometrics, Laptop)"}),e.jsxs("td",{className:"flex gap-2 border border-gray-300 py-2 p-4",children:[e.jsx("div",{className:"border p-2 rounded w-full",children:e.jsx("canvas",{id:"signatureCanvas",className:"w-full h-8"})}),e.jsx(t,{})]}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"date",className:"border p-2 rounded w-full"})}),e.jsx("td",{className:"border border-gray-300 py-2 p-4",children:e.jsx("input",{type:"text",className:"border p-2 rounded w-full"})})]})]})]})}),e.jsxs("div",{className:"flex flex-1 gap-4 mb-3 mt-8",children:[e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Exit Clearance Conducted By:"})}),e.jsx("input",{type:"text",value:`${(s==null?void 0:s.employee_fname)||""} ${(s==null?void 0:s.employee_lname)||""}`,className:"border p-2 rounded w-full"})]})})}),e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex flex-col gap-4 mb-4 w-full",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Conforme:"})}),e.jsx("input",{type:"text",value:"Human Resource",className:"border p-2 rounded w-full",readOnly:!0})]})})})]}),_&&e.jsxs("div",{className:"flex gap-2 justify-end mt-2.5",children:[e.jsxs("button",{onClick:F,type:"button",className:` px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors ${a?"cursor-not-allowed opacity-75":""}`,disabled:a,children:[a?e.jsx(H,{spin:!0}):e.jsx(A,{}),a?" SENDING...":" SIGN CLEARANCE"]}),e.jsx("button",{type:"button",className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600 focus:outline-none transition-colors",children:"SUBMIT EXIT CLEARANCE"})]})]})]})})})})}export{ue as default};
