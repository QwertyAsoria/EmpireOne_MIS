import{r as n,b as D,j as t}from"./app-bafafda5.js";import{T as v,I as T,S as j,H as I}from"./main-11802ff0.js";import w from"./button-components-1336b5c4.js";import _ from"./erf-dropdown-filter-components-25a6e9b3.js";import E from"./add-position-button-section-dfd78de3.js";import{T as N}from"./index-c3e73ba4.js";import{S as R}from"./index-85cae578.js";import{B as m}from"./button-53cc1c49.js";import"./warning-3045d72d.js";import"./index-3489f972.js";import"./index-473fd553.js";import"./zoom-6001308e.js";import"./asyncToGenerator-b5e9f51a.js";import"./useSize-f4859fa4.js";import"./Compact-053f96f5.js";import"./useZIndex-2c590492.js";import"./AntdIcon-a6021e08.js";import"./pickAttrs-738cc4b0.js";import"./DownOutlined-6d772d00.js";import"./useLocale-2928605e.js";import"./useBreakpoint-ea62b540.js";import"./useForceUpdate-d12d4a04.js";import"./index-b1d9ec21.js";import"./PurePanel-e7c2c981.js";import"./CheckOutlined-1ee2010f.js";import"./CloseOutlined-82d8888b.js";import"./LoadingOutlined-89f0f2bf.js";import"./FileOutlined-402265b5.js";import"./FolderOpenOutlined-b11bf5e6.js";import"./HolderOutlined-2b18ed23.js";import"./EyeOutlined-f4ae2e02.js";import"./index-11430430.js";import"./render-e2ad3102.js";import"./CheckCircleFilled-9a27eb54.js";import"./ExclamationCircleFilled-7d4c17ea.js";import"./InfoCircleFilled-93d6a5ad.js";import"./useClosable-e8a84018.js";import"./FileTextOutlined-eed08d4f.js";import"./EditOutlined-ac42670b.js";import"./add-new-position-section-2400f2a8.js";import"./PlusSquareTwoTone-77b4ce92.js";import"./add-existing-position-section-97f3471a.js";function ke(){const[S,p]=n.useState(""),[y,f]=n.useState(""),[d,c]=n.useState([]),{erf_records:u}=D(o=>o.erf_records);console.log("erf_records",u);const g=o=>{if(o.length===0)c(u);else{const e=u.filter(r=>o.includes(r.status));c(e)}};n.useEffect(()=>{const o=localStorage.getItem("filteredData");o?c(JSON.parse(o)):g([])},[]),n.useEffect(()=>{localStorage.setItem("filteredData",JSON.stringify(d))},[d]);const h=n.useRef(null),x=(o,e,r)=>{e(),p(o[0]),f(r)},k=o=>{o(),p("")},s=o=>({filterDropdown:({setSelectedKeys:e,selectedKeys:r,confirm:i,clearFilters:a,close:C})=>t.jsxs("div",{style:{padding:8},onKeyDown:l=>l.stopPropagation(),children:[t.jsx(T,{ref:h,placeholder:`Search ${o}`,value:r[0],onChange:l=>e(l.target.value?[l.target.value]:[]),onPressEnter:()=>x(r,i,o),style:{marginBottom:8,display:"block"}}),t.jsxs(R,{children:[t.jsx(m,{type:"primary",onClick:()=>x(r,i,o),icon:t.jsx(j,{}),size:"small",style:{width:90},children:"Search"}),t.jsx(m,{onClick:()=>a&&k(a),size:"small",style:{width:90},children:"Reset"}),t.jsx(m,{type:"link",size:"small",onClick:()=>{i({closeDropdown:!1}),p(r[0]),f(o)},children:"Filter"}),t.jsx(m,{type:"link",size:"small",onClick:()=>{C()},children:"close"})]})]}),filterIcon:e=>t.jsx(j,{style:{color:e?"#1677ff":void 0}}),onFilter:(e,r)=>r[o].toString().toLowerCase().includes(e.toLowerCase()),onFilterDropdownOpenChange:e=>{e&&setTimeout(()=>{var r;return(r=h.current)==null?void 0:r.select()},100)},render:e=>y===o?t.jsx(I,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[S],autoEscape:!0,textToHighlight:e?e.toString():""}):e}),b=[{title:"Ref #",dataIndex:"id",key:"emp_id",...s("emp_id")},{title:"Requesting Manager",dataIndex:"fullname",key:"fullname",...s("fullname"),render:(o,e,r)=>{var i,a;return console.log("record",e),t.jsxs("div",{children:[(i=e.user)==null?void 0:i.employee_fname," ",(a=e.user)==null?void 0:a.employee_lname]},r)}},{title:"Job Title",dataIndex:"jobTitle",key:"position",...s("position")},{title:"Job Type",dataIndex:"jobType",key:"dept",...s("dept")},{title:"Position Status",dataIndex:"positionStatus",key:"eogs",...s("eogs")},{title:"Date Needed",dataIndex:"dateNeed",key:"contact",...s("contact")},{title:"Budget/Cost",dataIndex:"budgetCost",key:"eogs",...s("eogs")},{title:"Date Submitted",dataIndex:"submitted",key:"eogs",...s("eogs")},{title:"Status",dataIndex:"status",key:"status",render:(o,e,r)=>(console.log("record",e),t.jsx(N,{color:e.status=="Approved"?"green":e.status=="Pending"?"orange":e.status=="Declined"?"red":(e.status=="In Review","blue"),children:e.status},r))},{title:"Action",dataIndex:"action",render:(o,e)=>t.jsx(w,{})}];return t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center gap-x-3",children:t.jsx("h2",{className:"text-lg font-medium text-gray-800",children:t.jsx("b",{children:"Employee Section"})})}),t.jsxs("div",{className:"flex flex-1 justify-between",children:[t.jsx(E,{}),t.jsx("div",{className:"mr-8",children:t.jsx(_,{filterData:g})})]})]}),t.jsx(v,{columns:b,dataSource:d,className:"mt-1"})]})}export{ke as default};
