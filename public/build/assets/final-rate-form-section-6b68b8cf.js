import{b as c,u,r as d,z as m,j as e,s as h,y as f}from"./app-bafafda5.js";import j from"./customer-service-final-rate-section-eca734a0.js";import b from"./work-effectiveness-final-rate-section-01ac4fc4.js";import{s as g}from"./final-rate-thunk-8a73a5da.js";import{L as v}from"./LoadingOutlined-89f0f2bf.js";import{m as N}from"./index-76a104f8.js";import{C as y}from"./CheckCircleFilled-9a27eb54.js";import"./final-rate-mark-component-0d9606f6.js";import"./UserCircleIcon-0c8f567a.js";import"./BriefcaseIcon-bff9db52.js";import"./applicant-record-service-964f751b.js";import"./warning-3045d72d.js";import"./AntdIcon-a6021e08.js";import"./index-3489f972.js";import"./render-e2ad3102.js";import"./asyncToGenerator-b5e9f51a.js";import"./pickAttrs-738cc4b0.js";import"./ExclamationCircleFilled-7d4c17ea.js";import"./InfoCircleFilled-93d6a5ad.js";import"./useZIndex-2c590492.js";import"./CloseOutlined-82d8888b.js";function $(){const{finalRate:l,applicant:a}=c(t=>t.final_rate),p=window.location.pathname.split("/")[3],{user:s}=c(t=>t.app),i=u(),[r,n]=d.useState(!1);d.useEffect(()=>{i(m({...l,interviewer:(s==null?void 0:s.employee_fname)+" "+(s==null?void 0:s.employee_lname),int_id:s.id,app_id:p,oavg:(parseInt(l.cscore??0)+parseInt(l.wscore??0))/2}))},[l==null?void 0:l.cscore,l==null?void 0:l.wscore,s==null?void 0:s.employee_fname]);function x(t){i(m({...l,[t.target.name]:t.target.value}))}async function o(t){t.preventDefault(),n(!0),await h.dispatch(g(l)),N.success("Successfully Rated!"),n(!1),setTimeout(()=>{f.visit("/admin/recruitment/applicants/applicant_records?page=1")},2e3)}return console.log(l,"finalRate"),e.jsxs("div",{className:"font-sans",children:[e.jsx("div",{className:"flex text-xl items-center justify-center mb-1",children:e.jsx("h1",{children:e.jsx("b",{children:"Final Rating Scale"})})}),e.jsxs("div",{className:"flex flex-1 justify-end pr-4",children:[e.jsx("h1",{className:"text-lg mb-2 bg-ge",children:e.jsx("b",{children:"Status:"})})," ",e.jsx("h1",{className:"bg-green-500 text-lg rounded-md p-1 text-white ml-1",children:a.status})]}),e.jsxs("form",{className:"border rounded-lg p-3.5",onSubmit:o,children:[e.jsxs("div",{className:"flex flex-1 gap-3.5",children:[e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Application No."})}),e.jsx("input",{type:"number",value:a.app_id??"",placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"Applicant's Name"})}),e.jsx("input",{type:"text",value:a.fname+" "+a.lname,placeholder:"",className:"border p-2 rounded w-full",readOnly:!0})]})]}),e.jsx(j,{}),e.jsx(b,{}),e.jsxs("div",{className:"flex items-center mb-5 mt-3 gap-1",children:[e.jsx("input",{id:"default-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-black rounded focus:ring-blue-500 focus:ring-2"}),e.jsx("h1",{children:e.jsx("b",{children:"Mark as Tier Shark"})})]}),e.jsxs("div",{className:"flex flex-col w-full mt-3",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"OVERALL RESULT"})}),e.jsx("input",{type:"number",value:l.oavg??0,name:"final_overall_r",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col w-full mt-5",children:[e.jsx("label",{htmlFor:"",children:e.jsx("b",{children:"FINAL PHASE INTERVIEWER"})}),e.jsx("input",{type:"text",value:(l==null?void 0:l.interviewer)??"",placeholder:"",className:"border p-2 rounded w-full mt-1",readOnly:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{children:e.jsx("b",{children:"OVERALL COMMENT"})}),e.jsx("textarea",{placeholder:"",name:"ocomment",onChange:x,className:"border p-2 rounded w-full mt-1 h-40"})]}),e.jsx("div",{className:"flex justify-end mt-3.5",children:e.jsxs("button",{type:"submit",className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg w-full ${r?"cursor-not-allowed opacity-75":""}`,onClick:o,disabled:r,children:[r?e.jsx(v,{spin:!0}):e.jsx(y,{}),r?" Loading...":" CONFIRM"]})})]})]})}export{$ as default};
